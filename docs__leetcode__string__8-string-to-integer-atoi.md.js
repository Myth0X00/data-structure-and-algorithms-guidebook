(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[173],{"1J8v":function(n,e,t){"use strict";t.r(e);var a=t("q1tI"),r=t.n(a),s=(t("B2uJ"),t("+su7"),t("qOys")),l=t.n(s);t("5Yjd");e["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"\u5b57\u7b26\u4e32\u8f6c\u6362\u6574\u6570"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u5b57\u7b26\u4e32\u8f6c\u6362\u6574\u6570"},r.a.createElement("span",{className:"icon icon-link"})),"\u5b57\u7b26\u4e32\u8f6c\u6362\u6574\u6570"),r.a.createElement("h2",{id:"\u89e3\u9898\u601d\u8def"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u89e3\u9898\u601d\u8def"},r.a.createElement("span",{className:"icon icon-link"})),"\u89e3\u9898\u601d\u8def"),r.a.createElement("p",null,"\u8ba1\u7b97\u5361\u53e3"),r.a.createElement(l.a,{code:"// \u8ba1\u7b97\u6700\u5927\u503c\nconst max = Math.pow(2, 31) - 1\n// \u8ba1\u7b97\u6700\u5c0f\u503c\nconst min = Math.pow(-2, 31)\n",lang:"js"}),r.a.createElement("h3",{id:"parseint"},r.a.createElement("a",{"aria-hidden":"true",href:"#parseint"},r.a.createElement("span",{className:"icon icon-link"})),"parseInt"),r.a.createElement("p",null,"\u5b98\u65b9\u7684\u4e3b\u8981\u89c4\u5219\u53ef\u4ee5\u6982\u51b5\u4e3a\uff1a"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u65e0\u89c6\u5f00\u5934\u7a7a\u683c"),r.a.createElement("li",null,"\u8fd4\u56de\u6709\u7b26\u53f7\u6574\u6570"),r.a.createElement("li",null,"\u65e0\u89c6\u6574\u6570\u90e8\u5206\u540e\u7684\u5b57\u7b26"),r.a.createElement("li",null,"\u8303\u56f4\u5728 32 \u4f4d\u5185\uff08\u542b\uff09"),r.a.createElement("li",null,"\u5176\u4ed6\u60c5\u51b5\u8fd4\u56de 0")),r.a.createElement(l.a,{code:"const atoi = function (str) {\n  const num = parseInt(str, 10)\n\n  if(isNaN(num)) {\n    return 0\n  } else if (num < Math.pow(-2, 31) || num > Math.pow(2, 31) - 1) {\n    return num < Math.pow(-2, 31) ? Math.pow(-2, 31) : Math.pow(2, 31) - 1\n  } else {\n    return num\n  }\n}\n",lang:"js"}),r.a.createElement("h3",{id:"\u6b63\u5219\u5339\u914d"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u6b63\u5219\u5339\u914d"},r.a.createElement("span",{className:"icon icon-link"})),"\u6b63\u5219\u5339\u914d"),r.a.createElement(l.a,{code:"const atoi = function (str) {\n  str = str.replace(/^\\s+/, '')\n\n  if (str === '') return 0\n\n  const res = str.match(/^[\\+\\-]?\\d+/)\n\n  if (res) {\n    if (res[0] < Math.pow(-2, 31)) {\n      return Math.pow(-2, 31)\n    } else if (res[0] > Math.pow(2, 31) - 1) {\n      return Math.pow(2, 31) - 1\n    } else {\n      return res[0]\n    }\n  }\n\n  return 0;\n}\n",lang:"js"}),r.a.createElement("p",null,"\u4f18\u5316\u5b9e\u73b0\uff1a"),r.a.createElement(l.a,{code:"const atoi = function (str) {\n  // \u7f16\u5199\u6b63\u5219\u8868\u8fbe\u5f0f\n  const reg = /\\s*([-\\+]?\\d*).*)/\n  // \u5f97\u5230\u6355\u83b7\u7ec4\n  const groups = str.match(str)\n  // \u8ba1\u7b97\u6700\u5927\u503c\n  const max = Math.pow(2, 31) - 1\n  // \u8ba1\u7b97\u6700\u5c0f\u503c\n  const min = Math.pow(-2, 31)\n\n  // \u7528\u4e8e\u5b58\u50a8\u8f6c\u5316\u540e\u7684\u6570\u5b57\n  let target = 0;\n  // \u5982\u679c\u5339\u914d\u6210\u529f\n  if (groups) {\n    // \u5c1d\u8bd5\u8f6c\u5316\u6355\u83b7\u5230\u7684\u7ed3\u6784\n    target = +groups[1]\n    // \u6ce8\u610f\uff0c\u5373\u4fbf\u6210\u529f\uff0c\u4e5f\u53ef\u80fd\u51fa\u73b0\u975e\u6570\u5b57\u7684\u60c5\u51b5\uff0c\u6bd4\u5982\u5355\u4e00\u4e2a `+`\n    if (isNaN(target)) {\n      // \u4e0d\u80fd\u8fdb\u884c\u6709\u6548\u7684\u8f6c\u6362\u65f6\uff0c\u8bf7\u8fd4\u56de 0\n      return 0;\n    }\n  }\n  // \u5361\u53e3\u5224\u65ad\n  if (target > max) {\n    return max\n  } else if (target < min) {\n    return min\n  }\n\n  return target;\n}\n",lang:"js"}),r.a.createElement("h3",{id:"\u81ea\u52a8\u673a"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u81ea\u52a8\u673a"},r.a.createElement("span",{className:"icon icon-link"})),"\u81ea\u52a8\u673a"),r.a.createElement(l.a,{code:"/**\n * @param {string} str\n * @return {number}\n */\nvar myAtoi = function(str) {\n  // \u81ea\u52a8\u673a\u7c7b\n  class Automaton{\n    constructor() {\n      // \u6267\u884c\u9636\u6bb5\uff0c\u9ed8\u8ba4\u5904\u4e8e\u5f00\u59cb\u6267\u884c\u9636\u6bb5\n      this.state = 'start';\n      // \u6b63\u8d1f\u7b26\u53f7\uff0c\u9ed8\u8ba4\u662f\u6b63\u6570\n      this.sign = 1;\n      // \u6570\u503c\uff0c\u9ed8\u8ba4\u662f0\n      this.answer = 0;\n      /*\n      \u5173\u952e\u70b9\uff1a\n      \u72b6\u6001\u548c\u6267\u884c\u9636\u6bb5\u7684\u5bf9\u5e94\u8868\n      \u542b\u4e49\u5982\u4e0b\uff1a\n      [\u6267\u884c\u9636\u6bb5, [\u7a7a\u683c, \u6b63\u8d1f, \u6570\u503c, \u5176\u4ed6]]\n      */\n      this.map = new Map([\n        ['start', ['start', 'signed', 'in_number', 'end']],\n        ['signed', ['end', 'end', 'in_number', 'end']],\n        ['in_number', ['end', 'end', 'in_number', 'end']],\n        ['end', ['end', 'end', 'end', 'end']]\n      ])\n    }\n\n    // \u83b7\u53d6\u72b6\u6001\u7684\u7d22\u5f15\n    getIndex(char) {\n      if (char === ' ') {\n        // \u7a7a\u683c\u5224\u65ad\n        return 0;\n      } else if (char === '-' || char === '+') {\n        // \u6b63\u8d1f\u5224\u65ad\n        return 1;\n      } else if (typeof Number(char) === 'number' && !isNaN(char)) {\n        // \u6570\u503c\u5224\u65ad\n        return 2;\n      } else {\n        // \u5176\u4ed6\u60c5\u51b5\n        return 3;\n      }\n    }\n\n    /*\n    \u5173\u952e\u70b9\uff1a\n    \u5b57\u7b26\u8f6c\u6362\u6267\u884c\u51fd\u6570\n    */\n    get(char) {\n      /*\n      \u6613\u9519\u70b9\uff1a\n      \u6bcf\u6b21\u4f20\u5165\u5b57\u7b26\u65f6\uff0c\u90fd\u8981\u53d8\u66f4\u81ea\u52a8\u673a\u7684\u6267\u884c\u9636\u6bb5\n      */\n      this.state = this.map.get(this.state)[this.getIndex(char)];\n\n      if(this.state === 'in_number') {\n        /*\n        \u5c0f\u6280\u5de7\uff1a\n        \u5728JS\u4e2d\uff0c\u5bf9\u5b57\u7b26\u4e32\u7c7b\u578b\u8fdb\u884c\u51cf\u6cd5\u64cd\u4f5c\uff0c\u53ef\u4ee5\u5c06\u5f97\u5230\u4e00\u4e2a\u6570\u503c\u578b\uff08Number\uff09\u7684\u503c\n\n        \u6613\u9519\u70b9\uff1a\n        \u672c\u5904\u9700\u8981\u5229\u7528\u62ec\u53f7\u6765\u63d0\u9ad8\u56db\u5219\u8fd0\u7b97\u7684\u4f18\u5148\u7ea7\n        */\n        this.answer = this.answer * 10 + (char - 0);\n\n        /*\n        \u6613\u9519\u70b9\uff1a\n        \u5728\u8fdb\u884c\u8d1f\u6570\u6bd4\u8f83\u65f6\uff0c\u9700\u8981\u5c06INT_MIN\u53d8\u4e3a\u6b63\u6570\n        */\n        this.answer = this.sign === 1 ? Math.min(this.answer, Math.pow(2, 31) - 1) : Math.min(this.answer, -Math.pow(-2, 31));\n      } else if (this.state === 'signed') {\n        /*\n        \u4f18\u5316\u70b9\uff1a\n        \u5bf9\u4e8e\u4e00\u4e2a\u6574\u6570\u6765\u8bf4\uff0c\u975e\u6b63\u5373\u8d1f\uff0c\n        \u6240\u4ee5\u6b63\u8d1f\u53f7\u7684\u5224\u65ad\uff0c\u53ea\u9700\u8981\u4e00\u6b21\u3002\n        \u6545\uff0c\u53ef\u4ee5\u964d\u4f4e\u5176\u5224\u65ad\u7684\u4f18\u5148\u7ea7\n        */\n        this.sign = char === '+' ? 1 : -1;\n      }\n    }\n  }\n\n  // \u751f\u6210\u81ea\u52a8\u673a\u5b9e\u4f8b\n  let automaton = new Automaton();\n\n  // \u904d\u5386\u6bcf\u4e2a\u5b57\u7b26\n  for(let char of str) {\n    // \u4f9d\u6b21\u8fdb\u884c\u8f6c\u6362\n    automaton.get(char);\n  }\n\n  // \u8fd4\u56de\u503c\uff0c\u6574\u6570 = \u6b63\u8d1f * \u6570\u503c\n  return automaton.sign * automaton.answer;\n};\n",lang:"js"}),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("strong",null,"\u53c2\u8003\u8d44\u6599\uff1a")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://leetcode-cn.com/problems/string-to-integer-atoi/solution/zi-fu-chuan-zhuan-huan-zheng-shu-atoi-by-leetcode-/",target:"_blank",rel:"noopener noreferrer"},"LeetCode \u529b\u6263\u5b98\u65b9\u9898\u89e3\uff1a\u5b57\u7b26\u4e32\u8f6c\u6362\u6574\u6570",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))))))}}}]);